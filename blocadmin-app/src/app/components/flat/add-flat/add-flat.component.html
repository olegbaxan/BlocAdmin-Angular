<div class="container">
  <div class="row">
    <div class="col-12" *ngIf="flat"
         style="border: 2px solid; border-color: rgb(0, 38, 255); font-size: 20px;height: auto">

      <div class="submit-form">
        <div *ngIf="!submitted">
          <h2 class="justify-content-center m-3">Add a new Flat</h2>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="flatnumber" class="col-sm-3 col-form-label">Flat number</label>
              <div class="col-sm-9">
                <input type="number" min="0" class="form-control" id="flatnumber" placeholder="Enter flat number"
                       [(ngModel)]="flat.flatNumber"
                       name="flatNumber" required="true">
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="floor" class="col-sm-3 col-form-label">Floor</label>
              <div class="col-sm-9">
                <input type="number" min="0" class="form-control" id="floor" placeholder="Enter floor number"
                       [(ngModel)]="flat.floor" name="floor" required="true">
              </div>
            </div>
          </div>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="ladder" class="col-sm-3 col-form-label">Ladder</label>
              <div class="col-sm-9">
                <input type="number" min="1" class="form-control" id="ladder" placeholder="Enter ladder number"
                       [(ngModel)]="flat.ladder" name="ladder" required="true">
              </div>
            </div>
          </div>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="wallet" class="col-sm-3 col-form-label">Wallet</label>
              <div class="col-sm-9">
                <input type="double" min="1" class="form-control" id="wallet"
                       [(ngModel)]="flat.wallet" name="wallet" readonly="true">
              </div>
            </div>
          </div>
          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="nrperson" class="col-sm-3 col-form-label">Nr of persons</label>
              <div class="col-sm-9">
                <input type="number" min="1" class="form-control" id="nrperson"
                       [(ngModel)]="flat.numberOfPerson" name="numberOfPerson">
              </div>
            </div>
          </div>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="person" class="col-sm-3 col-form-label">Person</label>
              <div class="col-sm-9">
                <ng-select class="custom" id="person"
                           [searchable]="true"
                           [multiple]="true"
                           [(ngModel)]=selectedPerson>
                  <ng-option *ngFor="let person of persons"
                             [value]="person">{{person.name}} {{person.surname}}</ng-option>
                </ng-select>
              </div>
            </div>
          </div>
          <button type="cancel" class="btn btn-danger btn-lg m-5 col-sm-2" routerLink="/person/add">Add New Person
          </button>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="building" class="col-sm-3 col-form-label">Building</label>
              <div class="col-sm-9">
                <ng-select class="custom" id="building"
                           [searchable]="true"
                           [multiple]="false"
                           [(ngModel)]=selectedBuilding>
                  <ng-option *ngFor="let building of buildings"
                             [value]="building">{{building.buildingid}} {{building.address.city}} {{building.address.raion}} {{building.address.street}} {{building.address.houseNumber}}</ng-option>
                </ng-select>
              </div>
            </div>
          </div>
          <button type="cancel" class="btn btn-danger btn-lg m-5 col-sm-2" routerLink="/buildings/add">Add New
            Building
          </button>

          <div class="form-group form-group-sm col-sm-8 m-5">
            <div class="row">
              <label for="meter" class="col-sm-3 col-form-label">Meters</label>
              <div class="col-sm-9">
                <ng-select class="custom" id="meter"
                           [searchable]="true"
                           [multiple]="true"
                           [(ngModel)]=selectedMeters>
                  <ng-option *ngFor="let meter of meters" [value]="meters">{{meters}} {{meters.address}}</ng-option>
                </ng-select>
              </div>
            </div>

          </div>

          <button type="cancel" class="btn btn-danger btn-lg m-5 col-sm-2" routerLink="/meters/add">Add New Meter
          </button>

          <button type="submit" class="btn btn-success btn-lg m-5" (click)="saveFlat()">Submit</button>
          <button type="cancel" class="btn btn-danger btn-lg m-5" routerLink="/flats">Cancel</button>

        </div>
        <div *ngIf="submitted">
          <h4>Flat was submitted successfully!</h4>
          <button type="submit" class="btn btn-success btn-lg m-5 pt-5" (click)="newFlat()">Add new</button>
          <button type="cancel" class="btn btn-danger btn-lg m-5" routerLink="/flats">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>


